$('#pdi-new').replaceWith("<%= j render 'new' %>");
// refrescar mapa
var mapOptions = {
    center: new google.maps.LatLng(41.39147225212958, 2.1668240462890935),
    zoom: 7
  };
  var map = new google.maps.Map(document.getElementById('map-canvas'),
    mapOptions);
google.maps.event.trigger(map, 'resize');

  var input = /** @type {HTMLInputElement} */(
      document.getElementById('pac-input'));

  var types = document.getElementById('type-selector');
  map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);
  map.controls[google.maps.ControlPosition.TOP_LEFT].push(types);

  var autocomplete = new google.maps.places.Autocomplete(input);
  autocomplete.bindTo('bounds', map);

  var infowindow = new google.maps.InfoWindow();
  var marker = new google.maps.Marker({
    map: map,
    anchorPoint: new google.maps.Point(0, -29)
  });